<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>randoms</title>
    <script src="include/three/three.js"></script>
    <script src="include/three/OrbitControls.js"></script>
    <script src="include/three/GLTFLoader.js"></script>
    <style>
        #scene-container {
            position: absolute;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body style="padding:0;margin:0;">
    <div id="scene-container" style="width:99%;height:99%;">
        <!-- This div will hold our scene-->
        <script>
            let container;
            let camera;
            let controls;
            let renderer;
            let scene;
            let heroMesh;
            const mixers = [];
            const clock = new THREE.Clock();

            class coord {
                constructor(x, y, z) {
                    this.x = x;
                    this.y = y;
                    this.z = z;
                }
            }
            class mapConstruction {
                constructor(walls) {
                    this.walls = walls;
                }
            }

            function init() {

                container = document.querySelector('#scene-container');

                scene = new THREE.Scene();
                scene.background = new THREE.Color(0x8FBCD4);

                let test = new mapConstruction([new coord(3, 1, 1), new coord(1, 1, 3)]);

                createCamera();
                createControls();
                createLights();
                createSkybox();
                createMap(test);
                loadModels();
                createRenderer();

                renderer.setAnimationLoop(() => {
                    update();
                    render();

                });

            }

            function createRenderer() {

                renderer = new THREE.WebGLRenderer({
                    antialias: true
                });
                renderer.setSize(container.clientWidth, container.clientHeight);

                renderer.setPixelRatio(window.devicePixelRatio);

                renderer.gammaFactor = 2.2;
                renderer.gammaOutput = true;

                renderer.physicallyCorrectLights = true;

                container.appendChild(renderer.domElement);

            }

            // perform any updates to the scene, called once per frame
            // avoid heavy computation here
            function update() {

                const delta = clock.getDelta();

                for (const mixer of mixers) {

                    mixer.update(delta);

                }

            }

            // render, or 'draw a still image', of the scene
            function render() {

                renderer.render(scene, camera);

            }

            init();
        </script>
    </div>
</body>

</html>